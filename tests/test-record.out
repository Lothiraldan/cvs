% help
hg record [OPTION]... [FILE]...

interactively select changes to commit

options:

 -A --addremove  mark new/missing files as added/removed before committing
 -d --date       record datecode as commit date
 -u --user       record user as commiter
 -I --include    include names matching the given patterns
 -X --exclude    exclude names matching the given patterns
 -m --message    use <text> as commit message
 -l --logfile    read commit message from <file>

use "hg -v help record" to show global options
% select no files
diff --git a/empty-rw b/empty-rw
new file mode 100644
record changes to 'empty-rw'? [y]es [n]o no changes to record

changeset:   -1:000000000000
tag:         tip
user:        
date:        Thu Jan 01 00:00:00 1970 +0000


% select files but no hunks
diff --git a/empty-rw b/empty-rw
new file mode 100644
record changes to 'empty-rw'? [y]es [n]o transaction abort!
rollback completed

changeset:   -1:000000000000
tag:         tip
user:        
date:        Thu Jan 01 00:00:00 1970 +0000


% record empty file
diff --git a/empty-rw b/empty-rw
new file mode 100644
record changes to 'empty-rw'? [y]es [n]o 
changeset:   0:c0708cf4e46e
tag:         tip
user:        test
date:        Thu Jan 01 00:00:00 1970 +0000
summary:     empty


% rename empty file
diff --git a/empty-rw b/empty-rename
rename from empty-rw
rename to empty-rename
record changes to 'empty-rw' and 'empty-rename'? [y]es [n]o 
changeset:   1:df251d174da3
tag:         tip
user:        test
date:        Thu Jan 01 00:00:01 1970 +0000
summary:     rename


% copy empty file
diff --git a/empty-rename b/empty-copy
copy from empty-rename
copy to empty-copy
record changes to 'empty-rename' and 'empty-copy'? [y]es [n]o 
changeset:   2:b63ea3939f8d
tag:         tip
user:        test
date:        Thu Jan 01 00:00:02 1970 +0000
summary:     copy


% delete empty file
diff --git a/empty-copy b/empty-copy
deleted file mode 100644
record changes to 'empty-copy'? [y]es [n]o 
changeset:   3:a2546574bce9
tag:         tip
user:        test
date:        Thu Jan 01 00:00:03 1970 +0000
summary:     delete


% add binary file
diff --git a/tip.bundle b/tip.bundle
new file mode 100644
this is a binary file
record changes to 'tip.bundle'? [y]es [n]o 
changeset:   4:9e998a545a8b
tag:         tip
user:        test
date:        Thu Jan 01 00:00:04 1970 +0000
summary:     binary

diff -r a2546574bce9 -r 9e998a545a8b tip.bundle
Binary file tip.bundle has changed

% change binary file
diff --git a/tip.bundle b/tip.bundle
this modifies a binary file (all or nothing)
record changes to 'tip.bundle'? [y]es [n]o 
changeset:   5:93d05561507d
tag:         tip
user:        test
date:        Thu Jan 01 00:00:05 1970 +0000
summary:     binary-change

diff -r 9e998a545a8b -r 93d05561507d tip.bundle
Binary file tip.bundle has changed

% rename and change binary file
diff --git a/tip.bundle b/top.bundle
rename from tip.bundle
rename to top.bundle
this modifies a binary file (all or nothing)
record changes to 'tip.bundle' and 'top.bundle'? [y]es [n]o 
changeset:   6:699cc1bea9aa
tag:         tip
user:        test
date:        Thu Jan 01 00:00:06 1970 +0000
summary:     binary-change-rename

diff -r 93d05561507d -r 699cc1bea9aa tip.bundle
Binary file tip.bundle has changed
diff -r 93d05561507d -r 699cc1bea9aa top.bundle
Binary file top.bundle has changed

% add plain file
diff --git a/plain b/plain
new file mode 100644
record changes to 'plain'? [y]es [n]o 
changeset:   7:118ed744216b
tag:         tip
user:        test
date:        Thu Jan 01 00:00:07 1970 +0000
summary:     plain

diff -r 699cc1bea9aa -r 118ed744216b plain
--- /dev/null	Thu Jan 01 00:00:00 1970 +0000
+++ b/plain	Thu Jan 01 00:00:07 1970 +0000
@@ -0,0 +1,10 @@
+1
+2
+3
+4
+5
+6
+7
+8
+9
+10

% modify end of plain file
diff --git a/plain b/plain
1 hunks, 1 lines changed
record changes to 'plain'? [y]es [n]o @@ -8,3 +8,4 @@ 8
 8
 9
 10
+11
record this change to 'plain'? [y]es [n]o % modify end of plain file, no EOL
diff --git a/plain b/plain
1 hunks, 1 lines changed
record changes to 'plain'? [y]es [n]o @@ -9,3 +9,4 @@ 9
 9
 10
 11
+cf81a2760718a74d44c0c2eecb72f659e63a69c5
\ No newline at end of file
record this change to 'plain'? [y]es [n]o % modify end of plain file, add EOL
diff --git a/plain b/plain
1 hunks, 2 lines changed
record changes to 'plain'? [y]es [n]o @@ -9,4 +9,4 @@ 9
 9
 10
 11
-cf81a2760718a74d44c0c2eecb72f659e63a69c5
\ No newline at end of file
+cf81a2760718a74d44c0c2eecb72f659e63a69c5
record this change to 'plain'? [y]es [n]o % modify beginning, trim end, record both
diff --git a/plain b/plain
2 hunks, 4 lines changed
record changes to 'plain'? [y]es [n]o @@ -1,4 +1,4 @@ 1
-1
+2
 2
 3
 4
record this change to 'plain'? [y]es [n]o @@ -8,5 +8,3 @@ 8
 8
 9
 10
-11
-cf81a2760718a74d44c0c2eecb72f659e63a69c5
record this change to 'plain'? [y]es [n]o 
changeset:   11:d09ab1967dab
tag:         tip
user:        test
date:        Thu Jan 01 00:00:10 1970 +0000
summary:     begin-and-end

diff -r e2ecd9b0b78d -r d09ab1967dab plain
--- a/plain	Thu Jan 01 00:00:10 1970 +0000
+++ b/plain	Thu Jan 01 00:00:10 1970 +0000
@@ -1,4 +1,4 @@ 1
-1
+2
 2
 3
 4
@@ -8,5 +8,3 @@ 8
 8
 9
 10
-11
-cf81a2760718a74d44c0c2eecb72f659e63a69c5

% trim beginning, modify end
% record end
diff --git a/plain b/plain
2 hunks, 5 lines changed
record changes to 'plain'? [y]es [n]o @@ -1,9 +1,6 @@ 2
-2
-2
-3
 4
 5
 6
 7
 8
 9
record this change to 'plain'? [y]es [n]o @@ -4,7 +1,7 @@
 4
 5
 6
 7
 8
 9
-10
+10.new
record this change to 'plain'? [y]es [n]o 
changeset:   12:44516c9708ae
tag:         tip
user:        test
date:        Thu Jan 01 00:00:11 1970 +0000
summary:     end-only

diff -r d09ab1967dab -r 44516c9708ae plain
--- a/plain	Thu Jan 01 00:00:10 1970 +0000
+++ b/plain	Thu Jan 01 00:00:11 1970 +0000
@@ -7,4 +7,4 @@ 7
 7
 8
 9
-10
+10.new

% record beginning
diff --git a/plain b/plain
1 hunks, 3 lines changed
record changes to 'plain'? [y]es [n]o @@ -1,6 +1,3 @@ 2
-2
-2
-3
 4
 5
 6
record this change to 'plain'? [y]es [n]o 
changeset:   13:3ebbace64a8d
tag:         tip
user:        test
date:        Thu Jan 01 00:00:12 1970 +0000
summary:     begin-only

diff -r 44516c9708ae -r 3ebbace64a8d plain
--- a/plain	Thu Jan 01 00:00:11 1970 +0000
+++ b/plain	Thu Jan 01 00:00:12 1970 +0000
@@ -1,6 +1,3 @@ 2
-2
-2
-3
 4
 5
 6

% add to beginning, trim from end
% record end
diff --git a/plain b/plain
2 hunks, 4 lines changed
record changes to 'plain'? [y]es [n]o @@ -1,6 +1,9 @@ 4
+1
+2
+3
 4
 5
 6
 7
 8
 9
record this change to 'plain'? [y]es [n]o @@ -1,7 +4,6 @@
 4
 5
 6
 7
 8
 9
-10.new
record this change to 'plain'? [y]es [n]o % add to beginning, middle, end
% record beginning, middle
diff --git a/plain b/plain
3 hunks, 7 lines changed
record changes to 'plain'? [y]es [n]o @@ -1,2 +1,5 @@ 4
+1
+2
+3
 4
 5
record this change to 'plain'? [y]es [n]o @@ -1,6 +4,8 @@
 4
 5
+5.new
+5.reallynew
 6
 7
 8
 9
record this change to 'plain'? [y]es [n]o @@ -3,4 +8,6 @@
 6
 7
 8
 9
+10
+11
record this change to 'plain'? [y]es [n]o 
changeset:   15:c1c639d8b268
tag:         tip
user:        test
date:        Thu Jan 01 00:00:14 1970 +0000
summary:     middle-only

diff -r efc0dad7bd9f -r c1c639d8b268 plain
--- a/plain	Thu Jan 01 00:00:13 1970 +0000
+++ b/plain	Thu Jan 01 00:00:14 1970 +0000
@@ -1,5 +1,10 @@ 4
+1
+2
+3
 4
 5
+5.new
+5.reallynew
 6
 7
 8

% record end
diff --git a/plain b/plain
1 hunks, 2 lines changed
record changes to 'plain'? [y]es [n]o @@ -9,3 +9,5 @@ 7
 7
 8
 9
+10
+11
record this change to 'plain'? [y]es [n]o 
changeset:   16:80b74bbc7808
tag:         tip
user:        test
date:        Thu Jan 01 00:00:15 1970 +0000
summary:     end-only

diff -r c1c639d8b268 -r 80b74bbc7808 plain
--- a/plain	Thu Jan 01 00:00:14 1970 +0000
+++ b/plain	Thu Jan 01 00:00:15 1970 +0000
@@ -9,3 +9,5 @@ 7
 7
 8
 9
+10
+11

