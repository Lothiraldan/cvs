% create source repository
adding a
% fork source repository
updating working directory
1 files updated, 0 files merged, 0 files removed, 0 files unresolved
adding b
% update source repository
% merge repositories
pulling from ../t2
searching for changes
adding changesets
adding manifests
adding file changes
added 1 changesets with 1 changes to 1 files (+1 heads)
(run 'hg heads' to see heads, 'hg merge' to merge)
1 files updated, 0 files merged, 0 files removed, 0 files unresolved
(branch merge, don't forget to commit)
M b
% rename b as c
A c
R b
% rename back c as b
M b
% test issue 1476
adding a
adding b1
adding b2
0 files updated, 0 files merged, 2 files removed, 0 files unresolved
adding c1
adding c2
created new head
% merge heads
2 files updated, 0 files merged, 0 files removed, 0 files unresolved
(branch merge, don't forget to commit)
% commit issue 1476
copies:      c2 (c1)
rolling back last transaction
2 files updated, 0 files merged, 2 files removed, 0 files unresolved
% merge heads again
2 files updated, 0 files merged, 0 files removed, 0 files unresolved
(branch merge, don't forget to commit)
% commit issue 1476 with a rename on the other side
copies:      b2 (b1)
