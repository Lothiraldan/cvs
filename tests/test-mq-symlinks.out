a -> a not a symlink
% test replacing a file with a symlink
a -> b
popping symlink.patch
now at: base.patch
applying symlink.patch
now at: symlink.patch
a -> b
% test updating a symlink
a -> c
popping updatelink
now at: symlink.patch
applying updatelink
patching file a
a
now at: updatelink
a -> c
% test replacing a symlink with a file
popping replacelinkwithfile
now at: addlink
applying replacelinkwithfile
now at: replacelinkwithfile
sss
% test symlink removal
popping removesl.patch
now at: replacelinkwithfile
applying removesl.patch
now at: removesl.patch
C b
C c
C s
% replace broken symlink with another broken symlink
popping movelink
now at: link
applying movelink
now at: movelink
linkb -> linkb
% check patch does not overwrite untracked symlinks
popping movelink
now at: link
applying movelink
patch failed, unable to continue (try -v)
patch failed, rejects left in working dir
errors during apply, please fix and refresh movelink
