updating to branch default
0 files updated, 0 files merged, 0 files removed, 0 files unresolved
% hg commit (LF a.txt)
% hg push
pushing to ../main
searching for changes
adding changesets
adding manifests
adding file changes
added 2 changesets with 2 changes to 2 files
% hg commit (CRLF a.txt)
% hg push
pushing to ../main
searching for changes
adding changesets
adding manifests
adding file changes
added 1 changesets with 1 changes to 1 files
error: pretxnchangegroup hook failed: a.txt should not have CRLF line endings
transaction abort!
rollback completed
abort: a.txt should not have CRLF line endings
% hg commit (LF a.txt)
% hg push
pushing to ../main
searching for changes
adding changesets
adding manifests
adding file changes
added 2 changesets with 2 changes to 1 files
