creating base
creating branch a
creating branch b
we shouldn't have anything but n state here
n 644          2 bar
n 644          3 baz
n 644          3 foo
n 644          2 quux
merging
pulling from ../a
searching for changes
adding changesets
adding manifests
adding file changes
added 1 changesets with 2 changes to 2 files
(run 'hg update' to get a working copy)
merging for foo
resolving manifests
getting bar
merging foo
resolving foo
we shouldn't have anything but foo in merge state here
m 644          3 foo
main: we should have a merge here
   rev    offset  length   base linkrev nodeid       p1           p2
     0         0      73      0       0 cdca01651b96 000000000000 000000000000
     1        73      68      1       1 f6718a9cb7f3 cdca01651b96 000000000000
     2       141      68      2       2 bdd988058d16 cdca01651b96 000000000000
     3       209      66      3       3 d8a521142a3c f6718a9cb7f3 bdd988058d16
log should show foo and quux changed
changeset:   3:d8a521142a3c02186ee6c7254738a7e6427ed4c8
tag:         tip
parent:      1:f6718a9cb7f31f1a92d27bd6544c71617d6d4e4f
parent:      2:bdd988058d16e2d7392958eace7b64817e44a54e
user:        test
date:        Thu Jan  1 00:00:00 1970 +0000
files:       foo quux
description:
merge


foo: we should have a merge here
   rev    offset  length   base linkrev nodeid       p1           p2
     0         0       3      0       0 b8e02f643373 000000000000 000000000000
     1         3       4      1       1 2ffeddde1b65 b8e02f643373 000000000000
     2         7       4      2       2 33d1fb69067a b8e02f643373 000000000000
     3        11       4      3       3 aa27919ee430 2ffeddde1b65 33d1fb69067a
bar: we shouldn't have a merge here
   rev    offset  length   base linkrev nodeid       p1           p2
     0         0       3      0       0 b8e02f643373 000000000000 000000000000
     1         3       4      1       2 33d1fb69067a b8e02f643373 000000000000
baz: we shouldn't have a merge here
   rev    offset  length   base linkrev nodeid       p1           p2
     0         0       3      0       0 b8e02f643373 000000000000 000000000000
     1         3       4      1       1 2ffeddde1b65 b8e02f643373 000000000000
quux: we shouldn't have a merge here
   rev    offset  length   base linkrev nodeid       p1           p2
     0         0       3      0       0 b8e02f643373 000000000000 000000000000
     1         3       5      1       3 6128c0f33108 b8e02f643373 000000000000
manifest entries should match tips of all files
33d1fb69067a0139622a3fa3b7ba1cdb1367972e 644 bar
2ffeddde1b65b4827f6746174a145474129fa2ce 644 baz
aa27919ee4303cfd575e1fb932dd64d75aa08be4 644 foo
6128c0f33108e8cfbb4e0824d13ae48b466d7280 644 quux
everything should be clean now
checking changesets
checking manifests
crosschecking files in changesets and manifests
checking files
4 files, 4 changesets, 10 total revisions
