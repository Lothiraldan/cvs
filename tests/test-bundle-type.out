% bundle w/o type option
adding file.txt
summary:     a
searching for changes
1 changesets found
pulling from ../b1
requesting all changes
adding changesets
adding manifests
adding file changes
added 1 changesets with 1 changes to 1 files
(run 'hg update' to get a working copy)
1 files updated, 0 files merged, 0 files removed, 0 files unresolved
summary:     a
% test bundle type None
searching for changes
1 changesets found
HG10UNpulling from ../bNone
requesting all changes
adding changesets
adding manifests
adding file changes
added 1 changesets with 1 changes to 1 files
(run 'hg update' to get a working copy)
1 files updated, 0 files merged, 0 files removed, 0 files unresolved
summary:     a
% test bundle type bzip2
searching for changes
1 changesets found
HG10BZpulling from ../bbzip2
requesting all changes
adding changesets
adding manifests
adding file changes
added 1 changesets with 1 changes to 1 files
(run 'hg update' to get a working copy)
1 files updated, 0 files merged, 0 files removed, 0 files unresolved
summary:     a
% test bundle type gzip
searching for changes
1 changesets found
HG10GZpulling from ../bgzip
requesting all changes
adding changesets
adding manifests
adding file changes
added 1 changesets with 1 changes to 1 files
(run 'hg update' to get a working copy)
1 files updated, 0 files merged, 0 files removed, 0 files unresolved
summary:     a
% test garbage file
abort: ../bgarbage: not a Mercurial bundle file
% test invalid bundle type
1 changesets found
abort: unknown bundle type specified with --type
