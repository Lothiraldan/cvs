adding a
adding b
adding c
adding d
% should give a 404 - file does not exist
404 Not Found


error: bork@8580ff50825a: not found in manifest
% should succeed
200 Script output follows


/a/
/b/

200 Script output follows

a
200 Script output follows

b
% should give a 404 - repo is not published
404 Not Found


error: repository c not found
% should succeed, slashy names
200 Script output follows


/b/
/t/a/

200 Script output follows


/t/a/

200 Script output follows


/t/a/

200 Script output follows

<?xml version="1.0" encoding="ascii"?>
<feed xmlns="http://127.0.0.1/2005/Atom">
 <!-- Changelog -->
 <id>http://127.0.0.1/t/a/</id>
 <link rel="self" href="http://127.0.0.1/t/a/atom-log"/>
 <link rel="alternate" href="http://127.0.0.1/t/a/"/>
 <title>t/a Changelog</title>
 <updated>1970-01-01T00:00:01+00:00</updated>

 <entry>
  <title>a</title>
  <id>http://127.0.0.1/mercurial/#changeset-8580ff50825a50c8f716709acdf8de0deddcd6ab</id>
  <link href="http://127.0.0.1/t/a/rev/8580ff50825a50c8f716709acdf8de0deddcd6ab"/>
  <author>
   <name>test</name>
   <email>&#116;&#101;&#115;&#116;</email>
  </author>
  <updated>1970-01-01T00:00:01+00:00</updated>
  <published>1970-01-01T00:00:01+00:00</published>
  <content type="xhtml">
   <div xmlns="http://127.0.0.1/1999/xhtml">
    <pre xml:space="preserve">a</pre>
   </div>
  </content>
 </entry>

</feed>
200 Script output follows

<?xml version="1.0" encoding="ascii"?>
<feed xmlns="http://127.0.0.1/2005/Atom">
 <!-- Changelog -->
 <id>http://127.0.0.1/t/a/</id>
 <link rel="self" href="http://127.0.0.1/t/a/atom-log"/>
 <link rel="alternate" href="http://127.0.0.1/t/a/"/>
 <title>t/a Changelog</title>
 <updated>1970-01-01T00:00:01+00:00</updated>

 <entry>
  <title>a</title>
  <id>http://127.0.0.1/mercurial/#changeset-8580ff50825a50c8f716709acdf8de0deddcd6ab</id>
  <link href="http://127.0.0.1/t/a/rev/8580ff50825a50c8f716709acdf8de0deddcd6ab"/>
  <author>
   <name>test</name>
   <email>&#116;&#101;&#115;&#116;</email>
  </author>
  <updated>1970-01-01T00:00:01+00:00</updated>
  <published>1970-01-01T00:00:01+00:00</published>
  <content type="xhtml">
   <div xmlns="http://127.0.0.1/1999/xhtml">
    <pre xml:space="preserve">a</pre>
   </div>
  </content>
 </entry>

</feed>
200 Script output follows

a
% should succeed
200 Script output follows


/a/
/b/
/b/d/
/c/

200 Script output follows

a
200 Script output follows

b
200 Script output follows

c
200 Script output follows


# HG changeset patch
# User test
# Date 0 0
# Node ID 43cb50608b2ae8635a62e2e8730adefc32a274ee

d

--- /dev/null	Thu Jan 01 00:00:00 1970 +0000
+++ b/d	Thu Jan 01 00:00:00 1970 +0000
@@ -0,0 +1,1 @@
+d

% paths errors 1
% paths errors 2
% collections errors
