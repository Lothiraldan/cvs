adding a
% default context
diff -r cf9f4ba66af2 a
--- a/a
+++ b/a
@@ -2,7 +2,7 @@
 c
 a
 a
-b
+dd
 a
 a
 c
% invalid --unified
abort: diff context lines count must be an integer, not 'foo'
% --unified=2
diff -r cf9f4ba66af2 a
--- a/a
+++ b/a
@@ -3,5 +3,5 @@
 a
 a
-b
+dd
 a
 a
% diff.unified=2
diff -r cf9f4ba66af2 a
--- a/a
+++ b/a
@@ -3,5 +3,5 @@
 a
 a
-b
+dd
 a
 a
% diff.unified=2 --unified=1
diff -r cf9f4ba66af2 a
--- a/a
+++ b/a
@@ -4,3 +4,3 @@
 a
-b
+dd
 a
% invalid diff.unified
abort: diff context lines count must be an integer, not 'foo'
% test off-by-one error with diff -p
adding a
diff -r cb9a9f314b8b a
--- a/a
+++ b/a
@@ -1,0 +1,1 @@
+b
@@ -2,0 +3,1 @@ a
+c
