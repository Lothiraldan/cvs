adding changesets
adding manifests
adding file changes
added 2 changesets with 2 changes to 1 files
(run 'hg update' to get a working copy)
1 files updated, 0 files merged, 0 files removed, 0 files unresolved
% should fail with encoding error
M a
? latin-1
? latin-1-tag
? utf-8
transaction abort!
rollback completed
abort: decoding near ' encoded: È': 'ascii' codec can't decode byte 0xe9 in position 20: ordinal not in range(128)!
% these should work
marked working directory as branch È
% hg log (ascii)
changeset:   5:093c6077d1c8
branch:      ?
tag:         tip
user:        test
date:        Thu Jan 01 00:00:00 1970 +0000
summary:     latin1 branch

changeset:   4:94db611b4196
user:        test
date:        Thu Jan 01 00:00:00 1970 +0000
summary:     Added tag ? for changeset ca661e7520de

changeset:   3:ca661e7520de
tag:         ?
user:        test
date:        Thu Jan 01 00:00:00 1970 +0000
summary:     utf-8 e' encoded: ?

changeset:   2:650c6f3d55dd
user:        test
date:        Thu Jan 01 00:00:00 1970 +0000
summary:     latin-1 e' encoded: ?

changeset:   1:0e5b7e3f9c4a
user:        test
date:        Mon Jan 12 13:46:40 1970 +0000
summary:     koi8-r: ????? = u'\u0440\u0442\u0443\u0442\u044c'

changeset:   0:1e78a93102a3
user:        test
date:        Mon Jan 12 13:46:40 1970 +0000
summary:     latin-1 e': ? = u'\xe9'

% hg log (latin-1)
changeset:   5:093c6077d1c8
branch:      È
tag:         tip
user:        test
date:        Thu Jan 01 00:00:00 1970 +0000
summary:     latin1 branch

changeset:   4:94db611b4196
user:        test
date:        Thu Jan 01 00:00:00 1970 +0000
summary:     Added tag È for changeset ca661e7520de

changeset:   3:ca661e7520de
tag:         È
user:        test
date:        Thu Jan 01 00:00:00 1970 +0000
summary:     utf-8 e' encoded: È

changeset:   2:650c6f3d55dd
user:        test
date:        Thu Jan 01 00:00:00 1970 +0000
summary:     latin-1 e' encoded: È

changeset:   1:0e5b7e3f9c4a
user:        test
date:        Mon Jan 12 13:46:40 1970 +0000
summary:     koi8-r: “‘’‘ÿ = u'\u0440\u0442\u0443\u0442\u044c'

changeset:   0:1e78a93102a3
user:        test
date:        Mon Jan 12 13:46:40 1970 +0000
summary:     latin-1 e': È = u'\xe9'

% hg log (utf-8)
changeset:   5:093c6077d1c8
branch:      √©
tag:         tip
user:        test
date:        Thu Jan 01 00:00:00 1970 +0000
summary:     latin1 branch

changeset:   4:94db611b4196
user:        test
date:        Thu Jan 01 00:00:00 1970 +0000
summary:     Added tag √© for changeset ca661e7520de

changeset:   3:ca661e7520de
tag:         √©
user:        test
date:        Thu Jan 01 00:00:00 1970 +0000
summary:     utf-8 e' encoded: √©

changeset:   2:650c6f3d55dd
user:        test
date:        Thu Jan 01 00:00:00 1970 +0000
summary:     latin-1 e' encoded: √©

changeset:   1:0e5b7e3f9c4a
user:        test
date:        Mon Jan 12 13:46:40 1970 +0000
summary:     koi8-r: √í√î√ï√î√ò = u'\u0440\u0442\u0443\u0442\u044c'

changeset:   0:1e78a93102a3
user:        test
date:        Mon Jan 12 13:46:40 1970 +0000
summary:     latin-1 e': √© = u'\xe9'

% hg tags (ascii)
tip                                5:093c6077d1c8
?                                  3:ca661e7520de
% hg tags (latin-1)
tip                                5:093c6077d1c8
È                                 3:ca661e7520de
% hg tags (utf-8)
tip                                5:093c6077d1c8
√©                                 3:ca661e7520de
% hg branches (ascii)
?                              5:093c6077d1c8
default                        4:94db611b4196 (inactive)
% hg branches (latin-1)
È                             5:093c6077d1c8
default                        4:94db611b4196 (inactive)
% hg branches (utf-8)
√©                             5:093c6077d1c8
default                        4:94db611b4196 (inactive)
% hg log (utf-8)
changeset:   5:093c6077d1c8
branch:      √©
tag:         tip
user:        test
date:        Thu Jan 01 00:00:00 1970 +0000
summary:     latin1 branch

changeset:   4:94db611b4196
user:        test
date:        Thu Jan 01 00:00:00 1970 +0000
summary:     Added tag √© for changeset ca661e7520de

changeset:   3:ca661e7520de
tag:         √©
user:        test
date:        Thu Jan 01 00:00:00 1970 +0000
summary:     utf-8 e' encoded: √©

changeset:   2:650c6f3d55dd
user:        test
date:        Thu Jan 01 00:00:00 1970 +0000
summary:     latin-1 e' encoded: √©

changeset:   1:0e5b7e3f9c4a
user:        test
date:        Mon Jan 12 13:46:40 1970 +0000
summary:     koi8-r: —Ä—Ç—É—Ç—å = u'\u0440\u0442\u0443\u0442\u044c'

changeset:   0:1e78a93102a3
user:        test
date:        Mon Jan 12 13:46:40 1970 +0000
summary:     latin-1 e': –ò = u'\xe9'

% hg log (dolphin)
abort: unknown encoding: dolphin, please check your locale settings
abort: decoding near 'È': 'ascii' codec can't decode byte 0xe9 in position 0: ordinal not in range(128)!
abort: branch name not in UTF-8!
