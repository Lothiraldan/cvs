% git=auto: regular patch creation
# HG changeset patch
# Parent 0000000000000000000000000000000000000000
# Date 0 0

diff -r 000000000000 -r ef8dafc9fa4c a
--- /dev/null
+++ b/a
@@ -0,0 +1,1 @@
+a
% git=auto: git patch creation with copy
# HG changeset patch
# Parent ef8dafc9fa4caff80f6e243eb0171bcd60c455b4
# Date 0 0

diff --git a/a b/b
copy from a
copy to b
% git=auto: git patch when using --git
# HG changeset patch
# Parent 99586d5f048c399e20f81cee41fbb3809c0e735d
# Date 0 0

diff --git a/regular b/regular
new file mode 100644
--- /dev/null
+++ b/regular
@@ -0,0 +1,1 @@
+regular
% git=auto: regular patch after qrefresh without --git
# HG changeset patch
# Parent 99586d5f048c399e20f81cee41fbb3809c0e735d
# Date 0 0

diff -r 99586d5f048c regular
--- /dev/null
+++ b/regular
@@ -0,0 +1,1 @@
+regular
% git=keep: git patch with --git
# HG changeset patch
# Parent 0000000000000000000000000000000000000000
# Date 0 0

diff --git a/a b/a
new file mode 100644
--- /dev/null
+++ b/a
@@ -0,0 +1,1 @@
+a
% git=keep: git patch after qrefresh without --git
# HG changeset patch
# Parent 0000000000000000000000000000000000000000
# Date 0 0

diff --git a/a b/a
new file mode 100644
--- /dev/null
+++ b/a
@@ -0,0 +1,2 @@
+a
+a
% git=yes: git patch
# HG changeset patch
# Parent 0000000000000000000000000000000000000000
# Date 0 0

diff --git a/a b/a
new file mode 100644
--- /dev/null
+++ b/a
@@ -0,0 +1,1 @@
+a
% git=yes: git patch after qrefresh
# HG changeset patch
# Parent 0000000000000000000000000000000000000000
# Date 0 0

diff --git a/a b/a
new file mode 100644
--- /dev/null
+++ b/a
@@ -0,0 +1,2 @@
+a
+a
% git=no: regular patch with copy
# HG changeset patch
# Parent ef8dafc9fa4caff80f6e243eb0171bcd60c455b4
# Date 0 0

diff -r ef8dafc9fa4c -r a70404f79ba3 b
--- /dev/null
+++ b/b
@@ -0,0 +1,1 @@
+a
% git=no: regular patch after qrefresh with copy
# HG changeset patch
# Parent ef8dafc9fa4caff80f6e243eb0171bcd60c455b4
# Date 0 0

diff -r ef8dafc9fa4c b
--- /dev/null
+++ b/b
@@ -0,0 +1,1 @@
+a
diff -r ef8dafc9fa4c c
--- /dev/null
+++ b/c
@@ -0,0 +1,1 @@
+a
