% Preparing the subrepository sub
adding sub/sub
% Preparing the main repo which depends on the subrepo sub
updating to branch default
1 files updated, 0 files merged, 0 files removed, 0 files unresolved
adding main/.hgsub
adding main/main
committing subrepository sub
% Cleaning both repositories, just as a clone -U
0 files updated, 0 files merged, 1 files removed, 0 files unresolved
0 files updated, 0 files merged, 3 files removed, 0 files unresolved
% Serving them both using hgweb
% Clone main from hgweb
requesting all changes
adding changesets
adding manifests
adding file changes
added 1 changesets with 3 changes to 3 files
updating to branch default
pulling ...sub
requesting all changes
adding changesets
adding manifests
adding file changes
added 1 changesets with 1 changes to 1 files
3 files updated, 0 files merged, 0 files removed, 0 files unresolved
% Checking cloned repo ids
fdfeeb3e979e tip
863c1745b441 tip
% subrepo debug for main clone
path sub
 source   ../sub
 revision 863c1745b441bd97a8c4a096e87793073f4fb215
